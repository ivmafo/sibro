<!--<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">-->
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:s="http://jboss.com/products/seam/taglib" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:f="http://java.sun.com/jsf/core" xmlns:h="http://java.sun.com/jsf/html" xmlns:a="http://richfaces.org/a4j" xmlns:a4j="http://richfaces.org/a4j" xmlns:rich="http://richfaces.org/rich" template="layout/template.xhtml">

	<ui:define name="body">

		<h:form id="businessEntity" styleClass="edit">
			<a4j:keepAlive beanName="businessEntityHome"></a4j:keepAlive>
			<rich:panel>
				<f:facet name="header">#{businessEntityHome.managed ? messages.Edit : messages.Add} #{messages.Business_entity}</f:facet>
				<h:panelGrid columns="1" width="100%">
					
					
					
					<rich:simpleTogglePanel switchType="client" label="Información General">

						<s:decorate id="idTypeField" template="layout/edit.xhtml">
							<ui:define name="label">#{messages.Id_type}</ui:define>
							<h:selectOneMenu value="#{businessEntityHome.instance.idType}">
								<f:selectItem itemValue="11" itemLabel="Registro civil de nacimiento" />
								<f:selectItem itemValue="12" itemLabel="Tarjeta de identidad" />
								<f:selectItem itemValue="13" itemLabel="Cédula de ciudadanía" />
								<f:selectItem itemValue="14" itemLabel="Certificado Registraduría sin identificación" />
								<f:selectItem itemValue="21" itemLabel="Tarjeta de extranjería" />
								<f:selectItem itemValue="21" itemLabel="Cédula de extranjería" />
								<f:selectItem itemValue="31" itemLabel="NIT" />
								<f:selectItem itemValue="33" itemLabel="Identificación de extranjeros diferente al NIT asignado DIAN" />
								<f:selectItem itemValue="41" itemLabel="Pasaporte" />
								<f:selectItem itemValue="42" itemLabel="Documento de identificación extranjero" />
								<f:selectItem itemValue="43" itemLabel="Sin identificación del exterior o para uso definido por DIAN" />
								<f:selectItem itemValue="44" itemLabel="Documento de Identificación extranjero Persona Jurídica" />
								<f:selectItem itemValue="90" itemLabel="Sistema" />
								<a4j:support event="onchange" ignoreDupResponses="true" limitToList="true" action="#{businessEntityHome.checkNit()}" ajaxSingle="true" reRender="nameBusinessEntityField,idNumberField,verificationNumberField,tradeNameField,save,update"/>
							</h:selectOneMenu>
						</s:decorate>

							<s:decorate id="nameBusinessEntityField" template="layout/edit.xhtml">
								<ui:define name="label">#{businessEntityHome.nitSelected ? 'Razón Social' : 'Nombre'}</ui:define>
								<h:inputTextarea id="nameBusinessEntity" cols="40" rows="1" required="true" value="#{businessEntityHome.instance.nameBusinessEntity}" >
									<a4j:support event="onblur" ajaxSingle="true" />
								</h:inputTextarea>
				
							</s:decorate>

							<s:decorate id="idNumberField" template="layout/edit.xhtml">
								<ui:define name="label">#{messages.Id_number} #{businessEntityHome.nitSelected ? 'Nit' : 'Documento'}</ui:define>
								<h:inputText id="idNumber" cols="20" rows="1" required="true" value="#{businessEntityHome.instance.idNumber}" >
									<a4j:support event="onblur" action="#{businessEntityHome.checkDigitCalculation()}" reRender="verificationNumberField, messagePrefixWrong, idNumberField" ajaxSingle="true"/>
								</h:inputText>
								 <s:label id="messagePrefixWrong" style="color: #FF0000;" value="#{businessEntityHome.messageIdNumber}" rendered="#{not empty businessEntityHome.messageIdNumber}"> </s:label>
							</s:decorate>

						<a4j:outputPanel id="verificationNumberField">
							<s:decorate  rendered="#{businessEntityHome.nitSelected}" template="layout/edit.xhtml">
								<ui:define name="label">#{messages.Verification_number}</ui:define>
								<h:inputText readonly="true" id="idNumber" cols="10" rows="1" required="true" value="#{businessEntityHome.instance.verificationNumber}" >
									<a4j:support event="onblur" ajaxSingle="true" bypassUpdates="true"/>
								</h:inputText>
							</s:decorate>
						</a4j:outputPanel>

						<a4j:outputPanel id="tradeNameField">
							<s:decorate  rendered="#{businessEntityHome.nitSelected}" template="layout/edit.xhtml">
								<ui:define name="label">#{messages.Trade_Name}</ui:define>
								<h:inputTextarea id="tradeName" cols="40" rows="1" value="#{businessEntityHome.instance.tradeName}" >
									<a4j:support event="onblur" ajaxSingle="true" />
								</h:inputTextarea>
							</s:decorate>
						</a4j:outputPanel>

						<s:decorate id="emailField" template="layout/edit.xhtml">
							<ui:define name="label">#{messages.Email}</ui:define>
							<h:inputTextarea id="email" cols="40" rows="1" value="#{businessEntityHome.instance.email}" >
								<a4j:support event="onblur" ajaxSingle="true" />
							</h:inputTextarea>
						</s:decorate>

						<s:decorate id="EntityTypeField" template="layout/edit.xhtml">
							<ui:define name="label">#{messages.Third_type}</ui:define>
							<rich:pickList value="#{businessEntityHome.instance.entityTypes}" copyAllControlLabel="#{messages.Copy_All}" copyControlLabel="#{messages.Copy}" removeControlLabel="#{messages.Remove}" removeAllControlLabel="#{messages.Remove_All}">
								<s:selectItems value="#{businessEntityHome.otherEntityType()}" var="businessEntityType" label="#{businessEntityType.nameBusinessEntityType}" />
								<s:convertEntity></s:convertEntity>
								<a4j:support event="onlistchanged" ajaxSingle="true" />
							</rich:pickList>
						</s:decorate>
						
						
						<s:decorate id="isbillerField" template="layout/edit.xhtml"  rendered="#{authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'isbillerField')}" >
							<ui:define name="label">#{messages.is_biller}</ui:define>
								<h:selectOneRadio id="isbiller"
									value="#{businessEntityHome.instance.isBiller}"
									styleClass="radio">
									<f:selectItem itemLabel="Si" itemValue="True" />
									<f:selectItem itemLabel="No" itemValue="False" />
									<a4j:support ignoreDupResponses="true" limitToList="true" ajaxSingle="true" event="onclick" reRender="billerObservation, billingResolutionTab"  ></a4j:support>
																	
								</h:selectOneRadio>
						</s:decorate>
						
						
						<a4j:outputPanel id="billerObservation" >
							<s:decorate id="billerObservationField" template="layout/edit.xhtml" rendered="#{businessEntityHome.checkIsBiller()}" >
								<ui:define name="label" >#{messages.biller_observation}</ui:define>
								<h:inputTextarea  cols="40" rows="1" value="#{businessEntityHome.instance.billerObservation}">
									<a4j:support event="onblur" ajaxSingle="true"  />
									<f:validateLength maximum="250"></f:validateLength>
									<rich:toolTip for="billerObservation">#{messages.observationBill_explanation}</rich:toolTip>
								</h:inputTextarea>
							</s:decorate>
						</a4j:outputPanel>
						
						<a4j:outputPanel id="billerObservation2">
							<s:decorate id="billerObservation2Field" template="layout/edit.xhtml" rendered="#{businessEntityHome.checkIsBiller()}">
							<ui:define name="label">#{messages.biller_observation2}</ui:define>
							<h:inputTextarea value="#{businessEntityHome.instance.billerObservation2}" cols="40" rows="1" >
								<a4j:support event="onblur" ajaxSingle="true"></a4j:support>
								<f:validateLength maximum="250"></f:validateLength>
								<rich:toolTip for="billerObservation2">#{messages.observationBill_explanation}</rich:toolTip>
							</h:inputTextarea>
							</s:decorate>
						</a4j:outputPanel>
						
						
						
						<s:decorate id="imageField" template="layout/edit.xhtml" rendered="#{authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'imageField')}">
							<ui:define name="label">#{messages.Image}</ui:define>
							<a4j:region>
									<rich:fileUpload fileUploadListener="#{businessEntityHome.listener}"
						                maxFilesQuantity="1"
						                id="upload"
						                immediateUpload="#{businessEntityHome.autoUpload}"
						                acceptedTypes="jpg, gif, png, bmp" allowFlash="#{businessEntityHome.useFlash}">
						                <a4j:support event="onuploadcomplete" reRender="info"/>
						                <a4j:support event="onclear" reRender="upload,info" action="#{businessEntityHome.clearUploadData()}"/>
						            </rich:fileUpload>
						            <h:panelGroup id="info">
						                <rich:panel bodyClass="info">
						                    <f:facet name="header">
						                        <h:outputText value="#{messages.Uploaded_Files_Info}" />
						                    </f:facet>
						                    <h:outputText value="#{messages.No_files_currently_uploaded}"
						                        rendered="#{businessEntityHome.instance.logo==null}" />
						                        <rich:panel bodyClass="rich-laguna-panel-no-header" rendered="#{businessEntityHome.instance.logo!=null}" >
						                            <h:panelGrid columns="1">
						                            	<s:graphicImage id="Showimage" value="#{businessEntityHome.instance.logo}">
															<s:transformImageSize maintainRatio="true"/>
														</s:graphicImage>
						                            </h:panelGrid>
						                        </rich:panel>
						                </rich:panel>
						                
						                
						            </h:panelGroup>
				            </a4j:region> 
						</s:decorate>
						</rich:simpleTogglePanel>
						
					
					<rich:simpleTogglePanel switchType="client" label="Información Tributaria">
						<s:decorate id="cityDecorate" template="layout/edit.xhtml">
							<ui:define name="label">#{messages.declared_city_tax}</ui:define>	
							<a4j:outputPanel  id="regionsSelector">
								<h:selectOneMenu id="regiones"
									value="#{businessEntityHome.selectedRegion}">
									<s:selectItems value="#{businessEntityHome.selectRegionList}"
										var="region" label="#{region.name}"></s:selectItems>
									<s:convertEntity></s:convertEntity>
									<a4j:support ajaxSingle="true" event="onchange"
										disableDefault="true" reRender="citiesSelector"></a4j:support>
								</h:selectOneMenu>
							</a4j:outputPanel>
							<a4j:outputPanel id="citiesSelector">
								<h:selectOneMenu required="true" id="cities"
									value="#{businessEntityHome.instance.city}">
									<s:selectItems
										value="#{businessEntityHome.selectedRegion.cities}" var="city"
										label="#{city.name}"></s:selectItems>
									<s:convertEntity></s:convertEntity>
									<a4j:support ajaxSingle="true" event="onchange"
										disableDefault="true" reRender="citiesSelector"></a4j:support>

								</h:selectOneMenu>
							</a4j:outputPanel>
						</s:decorate>

						<s:decorate id="EconomicActivity" template="layout/edit.xhtml">
							<ui:define name="label">#{messages.Economic_activity}</ui:define>
							<a4j:region renderRegionOnly="true"
								id="actividadEconomicaSelector">
								<a4j:outputPanel ajaxRendered="true" id="regionsSelector">
									<h:selectOneMenu id="regiones"
										value="#{businessEntityHome.instance.economicActivity}">
										<s:selectItems
											value="#{businessEntityHome.economitActivityList}"
											var="actividad" label="#{actividad.code}"></s:selectItems>
										<s:convertEntity></s:convertEntity>
										<a4j:support ajaxSingle="true" event="onchange"></a4j:support>
									</h:selectOneMenu>
									<h:outputLabel value="#{businessEntityHome.instance.economicActivity.name}" />
								</a4j:outputPanel>
							</a4j:region>
						</s:decorate>

						<s:decorate id="legalEntityTypeField" template="layout/edit.xhtml">
							<ui:define name="label">#{messages.Legal_entity_type}</ui:define>
							<h:selectOneMenu required="true" value="#{businessEntityHome.instance.legalEntityType}">
								<f:selectItem itemLabel="Persona jurídica" itemValue="1" />
								<f:selectItem itemLabel="Persona natural o sucesión ilíquida" itemValue="2" />
								<a4j:support event="onblur" ajaxSingle="true" />
							</h:selectOneMenu>
						</s:decorate>
						
						<s:decorate template="layout/edit.xhtml">
						<ui:define name="label">#{messages.Tax_liabilities}</ui:define>
						</s:decorate>
						
						<s:decorate template="layout/edit.xhtml" id="ventas">
							<h:selectOneRadio required="true" layout="pageDirection" value="#{businessEntityHome.responsabilidadTributariaGroupTwo}">
								<f:selectItem itemLabel="Ventas régimen común" itemValue="11" />
								<f:selectItem itemLabel="Ventas régimen simplificado" itemValue="12" />
								<f:selectItem itemLabel="Empresas del estado" itemValue="20" />
								<f:selectItem itemLabel="Régimen simplificado no residente en el pais" itemValue="21" />
								<f:selectItem itemLabel="No residente en el país" itemValue="22" />
								<f:selectItem itemLabel="Sin régimen" itemValue="23" />
								<a4j:support event="onblur" ajaxSingle="true"/>
							</h:selectOneRadio>
						</s:decorate>
						
						<s:decorate template="layout/edit.xhtml" id="regimen">
							<h:selectOneRadio layout="pageDirection" value="#{businessEntityHome.responsabilidadTributariaGroupOne}">
								<f:selectItem itemLabel="Impuesto sobre la renta y complementarios régimen especial" itemValue="04" />
								<f:selectItem itemLabel="Impuesto sobre la renta y complementarios régimen ordinario" itemValue="05" />
								<f:selectItem itemLabel="Ingresos y patrimonio" itemValue="06" />
								<a4j:support event="onblur" ajaxSingle="true" />
							</h:selectOneRadio>
						</s:decorate>
						
						<s:decorate id="liabilityFieldEdit" template="layout/edit.xhtml">
							<h:selectManyCheckbox layout="pageDirection" value="#{businessEntityHome.responsabilidadesTributariasGroupCero}">
								<f:selectItem itemLabel="Aporte especial para la administración de justicia" itemValue="01" />
								<f:selectItem itemLabel="Gravamen a los movimientos financieros" itemValue="02" />
								<f:selectItem itemLabel="Impuesto al patrimonio" itemValue="03" />
								<f:selectItem itemLabel="Retención en la fuente a título de renta" itemValue="07" />
								<f:selectItem itemLabel="Retención timbre nacional" itemValue="08" />
								<f:selectItem itemLabel="Retención en la fuente en el impuesto sobre las ventas" itemValue="09" />
								<f:selectItem itemLabel="Usuario aduanero" itemValue="10" />
								<f:selectItem itemLabel="Gran contribuyente" itemValue="13" />
								<f:selectItem itemLabel="Informante de exógena" itemValue="14" />
								<f:selectItem itemLabel="Autorretenedor" itemValue="15" />
								<f:selectItem itemLabel="Obligación de facturar por ingresos bienes y/o servicios excluidos" itemValue="16" />
								<f:selectItem itemLabel="Profesionales de compra y venta de divisas" itemValue="17" />
								<f:selectItem itemLabel="Precios de transferencia" itemValue="18" />
								<f:selectItem itemLabel="Productor y/o exportador de bienes exentos (incluye exportador servicios exentos):" itemValue="19" />
								<a4j:support event="onblur" ajaxSingle="true" />
							</h:selectManyCheckbox>
						</s:decorate>
					</rich:simpleTogglePanel>

						<rich:simpleTogglePanel rendered="#{businessEntityHome.id > 0}" switchType="ajax" label="Representante Legal">
						<a4j:region renderRegionOnly="true">
							<h:panelGrid rendered="#{!empty businessEntityHome.legalRepresentatives}" columns="2">
								<rich:extendedDataTable binding="#{tableLegalRepresentativeBind}" width="300px" height="200px" selection="#{businessEntityHome.selectionLegalRepresentative}" selectionMode="single" rows="0" sortMode="single" tableState="#{businessEntityHome.tableState}" value="#{businessEntityHome.legalRepresentatives}" var="contact" id="tableLegalRepresentative">

									<rich:column sortable="true" sortBy="#{contact.firstName}" id="col_1" filterBy="#{contact.firstName}" filterEvent="onkeyup" label="Primer Nombre">
										<f:facet name="header">
											<h:outputText value="Nombre" />
										</f:facet>
										<h:outputText value="#{contact.firstName}" />
									</rich:column>
									<rich:column sortable="true" sortBy="#{contact.lastName}" id="col_2" filterBy="#{contact.lastName}" filterEvent="onkeyup" label="Primer Nombre">
										<f:facet name="header">
											<h:outputText value="Apellido" />
										</f:facet>
										<h:outputText value="#{contact.lastName}" />
									</rich:column>
									<rich:column sortable="true" sortBy="#{contact.idNumber}" id="col_3" filterBy="#{contact.idNumber}" filterEvent="onkeyup" label="Primer Nombre">
										<f:facet name="header">
											<h:outputText value="Documento" />
										</f:facet>
										<h:outputText value="#{contact.idNumber}" />
									</rich:column>
									<a4j:support ajaxSingle="true" reRender="legarRepresentativeField3,outpuPanelButtons" action="#{businessEntityHome.onSelectionChanged}" event="onselectionchange" />
								</rich:extendedDataTable>
								<h:panelGrid columns="2">
									<s:decorate id="legarRepresentativeField3" template="layout/edit.xhtml">
										<ui:define name="label">#{messages.Legal_Representative}:</ui:define>
										<h:inputText readonly="true" required="true" value="#{businessEntityHome.legalRepresentative.firstName} #{businessEntityHome.legalRepresentative.lastName}" />
									</s:decorate>
								</h:panelGrid>
							</h:panelGrid>
							<f:subview rendered="#{empty businessEntityHome.legalRepresentatives}" id="contactLegalRepresentative">
							<div class="actionButtons">
								<s:button id="addContactLegalRepresentative" value="Agregar Representante legal" view="/ContactEdit.xhtml" propagation="none" rendered="#{authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'addContactLegalRepresentative')}" >
									<f:param name="contactFrom" value="BusinessEntityEdit" />
									<f:param name="contactTypeId" value="3" />
								</s:button>
							</div>
							</f:subview>
						</a4j:region>
						<a4j:support event="onclick" reRender="outpuPanelButtons" ></a4j:support>
					</rich:simpleTogglePanel>
				</h:panelGrid>
				<div style="clear: both"><span class="required">*</span> #{messages.required_fields}</div>

			</rich:panel>
			<a4j:outputPanel id="outpuPanelButtons" ajaxRendered="true">
				<div class="actionButtons">
					<h:commandButton id="save" value="#{messages.Save}" action="#{businessEntityHome.persist}" disabled="#{!businessEntityHome.wired || businessEntityHome.checkMessages()}" rendered="#{!businessEntityHome.managed and authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'save')}" /> 
					<h:commandButton id="update" value="#{messages.Save}" action="#{businessEntityHome.update}" rendered="#{businessEntityHome.managed and authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'update')}" disabled="#{businessEntityHome.checkMessages()}"/> 
					<h:commandButton id="delete" value="#{messages.Delete}" action="#{businessEntityHome.remove}" immediate="true" rendered="false or #{businessEntityHome.managed and authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'delete')}" /> 
					<s:button id="cancelEdit" value="#{messages.Cancel}" propagation="end" view="/BusinessEntity.xhtml" rendered="#{businessEntityHome.managed and authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'cancelEdit')}" action="#{businessEntityHome.cancelEvent()}"/> 
					<s:button id="cancelAdd" value="#{messages.Cancel}" propagation="end"
					view="/#{empty businessEntityFrom ? 'BusinessEntityList' : businessEntityFrom}.xhtml" rendered="#{!businessEntityHome.managed and authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'cancelAdd')}" action="#{businessEntityHome.cancelEvent()}"/>
				</div>
			</a4j:outputPanel>
		</h:form>
			<a4j:outputPanel id="billingResolutionTab"  >
		<rich:tabPanel switchType="ajax">
		
			<rich:tab label="* #{messages.Phone_numbers}">
				<h:form styleClass="association" id="phoneNumbersChildren">

					<h:outputText value="#{messages.There_are_no_phoneNumbers_associated_with_this_businessEntity}" rendered="#{empty businessEntityHome.phoneNumbers}" />

					<rich:dataTable value="#{businessEntityHome.phoneNumbers}" var="_phoneNumber" rendered="#{not empty businessEntityHome.phoneNumbers}" rowClasses="rvgRowOne,rvgRowTwo" id="phoneNumbersTable">
						<rich:column sortBy="#{_phoneNumber.id}">
							<f:facet name="header">Id</f:facet>
							<h:outputText value="#{_phoneNumber.id}" />
						</rich:column>
						<rich:column sortBy="#{_phoneNumber.number}">
							<f:facet name="header">#{messages.Phone_number}</f:facet>
							<h:outputText value="#{_phoneNumber.number}" />
						</rich:column>
						<rich:column sortBy="#{_phoneNumber.indicative}">
							<f:facet name="header">#{messages.Indicative}</f:facet>
							<h:outputText value="#{_phoneNumber.indicative}" />
						</rich:column>
						<rich:column sortBy="#{_phoneNumber.extension}">
							<f:facet name="header">#{messages.Extension}</f:facet>
							<h:outputText value="#{_phoneNumber.extension}" />
						</rich:column>
					</rich:dataTable>

				</h:form>

				<f:subview  id="phoneNumbers">
					<div class="actionButtons"><s:button id="addphoneNumber" value="#{messages.Add_phoneNumber}" view="/PhoneNumberEdit.xhtml" 
					 rendered="#{authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'addphoneNumber')}">
						<f:param name="businessEntityId" value="#{businessEntityHome.instance.id==0 ? null : businessEntityHome.instance.id}" />
						<f:param name="phoneNumberFrom" value="BusinessEntityEdit" />
					</s:button></div>
				</f:subview>
			</rich:tab>


			<rich:tab label="* #{messages.Addresses}">
				<h:form styleClass="association" id="addressesChildren">

					<h:outputText value="#{messages.There_are_no_addresses_associated_with_this_businessEntity}" rendered="#{empty businessEntityHome.addresses}" />

					<rich:dataTable value="#{businessEntityHome.addresses}" var="_address" rendered="#{not empty businessEntityHome.addresses}" rowClasses="rvgRowOne,rvgRowTwo" id="addressesTable">
						<rich:column sortBy="#{_address.id}">
							<f:facet name="header">Id</f:facet>
							<h:outputText value="#{_address.id}" />
						</rich:column>
						<rich:column sortBy="#{_address.kindOfWay}">
							<f:facet name="header">#{messages.Kind_of_way}</f:facet>
							<h:outputText value="#{_address.kindOfWay}" />
						</rich:column>
						<rich:column sortBy="#{_address.wayNumber}">
							<f:facet name="header">#{messages.Way_number}</f:facet>
							<h:outputText value="#{_address.wayNumber}" />
						</rich:column>
						<rich:column sortBy="#{_address.wayLetter}">
							<f:facet name="header">#{messages.Way_letter}</f:facet>
							<h:outputText value="#{_address.wayLetter}" />
						</rich:column>
						<rich:column sortBy="#{_address.isWayBis}">
							<f:facet name="header">#{messages.Is_way_bis}</f:facet>
							<h:outputText value="#{_address.isWayBis}" />
						</rich:column>
						<rich:column sortBy="#{_address.wayBisLetter}">
							<f:facet name="header">#{messages.Way_bis_letter}</f:facet>
							<h:outputText value="#{_address.wayBisLetter}" />
						</rich:column>
						<rich:column sortBy="#{_address.wayEastOrSouth}">
							<f:facet name="header">#{messages.Way_east_or_south}</f:facet>
							<h:outputText value="#{_address.wayEastOrSouth}" />
						</rich:column>
						<rich:column sortBy="#{_address.number}">
							<f:facet name="header">#{messages.Number}</f:facet>
							<h:outputText value="#{_address.number}" />
						</rich:column>
						<rich:column sortBy="#{_address.numberLetter}">
							<f:facet name="header">#{messages.Number_letter}</f:facet>
							<h:outputText value="#{_address.numberLetter}" />
						</rich:column>
						<rich:column sortBy="#{_address.additionalNumber}">
							<f:facet name="header">#{messages.Additional_number}</f:facet>
							<h:outputText value="#{_address.additionalNumber}" />
						</rich:column>
						<rich:column sortBy="#{_address.numberEastOrSouth}">
							<f:facet name="header">#{messages.Number_east_or_south}</f:facet>
							<h:outputText value="#{_address.numberEastOrSouth}" />
						</rich:column>
						<rich:column sortBy="#{_address.other}">
							<f:facet name="header">#{messages.Other}</f:facet>
							<h:outputText value="#{_address.other}" />
						</rich:column>
					</rich:dataTable>

				</h:form>

				<f:subview id="addresses">
					<div class="actionButtons"><s:button id="addaddress" value="#{messages.Add_address}" view="/AddressEdit.xhtml" 
					rendered="#{authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'addaddress')}">
						<f:param name="businessEntityId" value="#{businessEntityHome.instance.id==0 ? null : businessEntityHome.instance.id}" />
						<f:param name="addressFrom" value="BusinessEntityEdit" />
					</s:button></div>
				</f:subview>
			</rich:tab>

			<rich:tab rendered="false" label="#{messages.Projects}">
				<h:form styleClass="association" id="projectsChildren">

					<h:outputText value="#{messages.There_are_no_projects_associated_with_this_businessEntity}" rendered="#{empty businessEntityHome.projects}" />

					<rich:dataTable value="#{businessEntityHome.projects}" var="_project" rendered="#{not empty businessEntityHome.projects}" rowClasses="rvgRowOne,rvgRowTwo" id="projectsTable">
						<rich:column sortBy="#{_project.id}">
							<f:facet name="header">Id</f:facet>
							<h:outputText value="#{_project.id}" />
						</rich:column>
						<rich:column sortBy="#{_project.nameProject}">
							<f:facet name="header">#{messages.Name}</f:facet>
							<h:outputText value="#{_project.nameProject}" />
						</rich:column>
						<rich:column sortBy="#{_project.costCenterProject}">
							<f:facet name="header">#{messages.Cost_center}</f:facet>
							<h:outputText value="#{_project.costCenterProject}" />
						</rich:column>
					</rich:dataTable>

				</h:form>

				<f:subview rendered="#{businessEntityHome.managed}" id="projects">
					<div class="actionButtons"><s:button id="addproject" value="#{messages.Add_project}" view="/ProjectEdit.xhtml" propagation="none"
					rendered="#{authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'addproject')}">
						<f:param name="businessEntityId" value="#{businessEntityHome.instance.id}" />
						<f:param name="projectFrom" value="BusinessEntity" />
					</s:button></div>
				</f:subview>
			</rich:tab>

			<rich:tab rendered="false" label="#{messages.Business_line}">
				<h:form styleClass="association" id="businessLinesChildren">

					<h:outputText value="#{messages.There_are_no_businessLine_associated_with_this_businessEntity}" rendered="#{empty businessEntityHome.businessLines}" />

					<rich:dataTable value="#{businessEntityHome.businessLines}" var="_businessLine" rendered="#{not empty businessEntityHome.businessLines}" rowClasses="rvgRowOne,rvgRowTwo" id="businessLinesTable">
						<rich:column sortBy="#{_businessLine.id}">
							<f:facet name="header">Id</f:facet>
							<h:outputText value="#{_businessLine.id}" />
						</rich:column>
						<rich:column sortBy="#{_businessLine.nameBusinessLine}">
							<f:facet name="header">#{messages.Name}</f:facet>
							<h:outputText value="#{_businessLine.nameBusinessLine}" />
						</rich:column>
						<rich:column sortBy="#{_businessLine.costCenterBusinessLine}">
							<f:facet name="header">#{messages.Cost_center}</f:facet>
							<h:outputText value="#{_businessLine.costCenterBusinessLine}" />
						</rich:column>
					</rich:dataTable>

				</h:form>

				<f:subview rendered="#{businessEntityHome.managed}" id="businessLines">
					<div class="actionButtons"><s:button id="addbusinessLine" value="#{messages.Add_businessLine}" view="/BusinessLineEdit.xhtml" propagation="none"
					rendered="#{authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'addbusinessLine')}">
						<f:param name="businessEntityId" value="#{businessEntityHome.instance.id}" />
						<f:param name="businessLineFrom" value="BusinessEntity" />
					</s:button></div>
				</f:subview>
			</rich:tab>

			<rich:tab label="#{messages.Business_entity_contacts}" rendered="true">
				<h:form styleClass="association" id="businessEntityContactsChildren">
					<h:outputText value="#{messages.There_are_no_businessEntityContacts_associated_with_this_businessEntity}" rendered="#{empty businessEntityHome.businessEntityContacts}" />
					<rich:dataTable value="#{businessEntityHome.businessEntityContacts}" var="_businessEntityContact" rendered="#{not empty businessEntityHome.businessEntityContacts}" rowClasses="rvgRowOne,rvgRowTwo" id="businessEntityContactsTable">
						<rich:column sortBy="#{_businessEntityContact.id}">
							<f:facet name="header">Id</f:facet>
							<h:outputText value="#{_businessEntityContact.id}" />
						</rich:column>
						<rich:column sortBy="#{_businessEntityContact.contact.firstName}">
							<f:facet name="header">Nombre</f:facet>
							<h:outputText value="#{_businessEntityContact.contact.firstName} #{_businessEntityContact.contact.firstName}" />
						</rich:column>
						<rich:column sortBy="#{_businessEntityContact.contact.idNumber}">
							<f:facet name="header">Número de identificación</f:facet>
							<h:outputText value="#{_businessEntityContact.contact.idNumber}" />
						</rich:column>
						
						<rich:column >
							<f:facet name="header">Accion</f:facet>
							<h:commandButton id="delete" value="#{messages.Delete}" action="#{businessEntityHome.deleteContact(_businessEntityContact)}" immediate="true" rendered="true" />
						</rich:column>
						
					</rich:dataTable>
				</h:form>
				<f:subview rendered="#{businessEntityHome.managed}" id="businessEntityContacts">
					<div class="actionButtons"><s:button id="addbusinessEntityContact" value="#{messages.Add_businessEntityContact}" view="/BusinessEntityContactEdit.xhtml" propagation="none"
					rendered="#{authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'addbusinessEntityContact')}">
						<f:param name="businessEntityId" value="#{businessEntityHome.instance.id}" />
						<f:param name="businessEntityContactFrom" value="BusinessEntityEdit" />
					</s:button></div>
				</f:subview>
			</rich:tab>
		
	
			<rich:tab id="billingResolutionsTab" label="#{messages.Billing_resolutions}" rendered="#{businessEntityHome.instance.isBiller == true and authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'billingResolutionsTab') }">
				<h:form styleClass="association" id="billingResolutionsChildren">

					<h:outputText value="#{messages.There_are_no_billingResolutions_associated_with_this_businessEntity}" rendered="#{empty businessEntityHome.instance.billingResolutions}" />

					<rich:dataTable value="#{businessEntityHome.instance.billingResolutions}" var="_billingResolution" rendered="#{not empty businessEntityHome.instance.billingResolutions}" rowClasses="rvgRowOne,rvgRowTwo" id="billingResolutionsTable">
						<rich:column sortBy="#{_billingResolution.id}">
							<f:facet name="header">Id</f:facet>
							<h:outputText value="#{_billingResolution.id}" />
						</rich:column>
						<rich:column sortBy="#{_billingResolution.prefix}">
							<f:facet name="header">#{messages.Prefix}</f:facet>
							<h:outputText value="#{_billingResolution.prefix}" />
						</rich:column>
						<rich:column sortBy="#{_billingResolution.min}">
							<f:facet name="header">#{messages.Min}</f:facet>
							<h:outputText value="#{_billingResolution.min}" />
						</rich:column>
						<rich:column sortBy="#{_billingResolution.max}">
							<f:facet name="header">#{messages.Max}</f:facet>
							<h:outputText value="#{_billingResolution.max}" />
						</rich:column>
					</rich:dataTable>

				</h:form>

				<f:subview rendered="#{businessEntityHome.managed}" id="billingResolutions">
					<div class="actionButtons">
					<s:button id="addbillingResolution" 
				              value="#{messages.Add_billingResolution}"
				              view="/BillingResolutionEdit.xhtml"
				              propagation="none"
							  rendered="#{authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'addbillingResolution')}">
						<f:param name="businessEntityId" value="#{businessEntityHome.instance.id}" />
						<f:param name="billingResolutionFrom" value="BusinessEntityEdit" />
					</s:button></div>
				</f:subview>
			</rich:tab>
		
		


	
			<rich:tab id="consecutiveAccountsBillingsTab" label="#{messages.Consecutive_accounts_billings}" rendered="#{businessEntityHome.instance.isBiller == true and authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'consecutiveAccountsBillingsTab')}">
		        <h:form styleClass="association" id="consecutiveAccountsBillingsChildren">
		
		            <h:outputText value="#{messages.There_are_no_consecutiveAccountsBillings_associated_with_this_businessEntity}"
		                       rendered="#{empty businessEntityHome.consecutiveAccountsBillings}"/>
		
		            <rich:dataTable value="#{businessEntityHome.consecutiveAccountsBillings}"
		                           var="_consecutiveAccountsBilling"
		                      rendered="#{not empty businessEntityHome.consecutiveAccountsBillings}"
		                    rowClasses="rvgRowOne,rvgRowTwo"
		                            id="consecutiveAccountsBillingsTable">
		                <rich:column sortBy="#{_consecutiveAccountsBilling.id}">
		                    <f:facet name="header">Id</f:facet>
		                    <h:outputText value="#{_consecutiveAccountsBilling.id}"/>
		                </rich:column>
		                <rich:column sortBy="#{_consecutiveAccountsBilling.suffix}">
		                    <f:facet name="header">#{messages.Suffix}</f:facet>
		                    <h:outputText value="#{_consecutiveAccountsBilling.suffix}"/>
		                </rich:column>
		                <rich:column sortBy="#{_consecutiveAccountsBilling.prefix}">
		                    <f:facet name="header">#{messages.Prefix}</f:facet>
		                    <h:outputText value="#{_consecutiveAccountsBilling.prefix}"/>
		                </rich:column>
		                <rich:column sortBy="#{_consecutiveAccountsBilling.siigoCode}">
		                    <f:facet name="header">#{messages.SIIGO_code}</f:facet>
		                    <h:outputText value="#{_consecutiveAccountsBilling.siigoCode}"/>
		                </rich:column>
		              
		                <rich:column sortBy="#{_consecutiveAccountsBilling.min}">
		                    <f:facet name="header">#{messages.current_position_of_consecutive}</f:facet>
		                    <h:outputText value="#{_consecutiveAccountsBilling.min}"/>
		                </rich:column>
		            </rich:dataTable>
		
		        </h:form>
		
		        <f:subview rendered="#{businessEntityHome.managed }" id="consecutiveAccountsBillings">
		        <div class="actionButtons">
		            <s:button id="addconsecutiveAccountsBilling"
		                   value="#{messages.Add_consecutiveAccountsBilling}"
		                    view="/ConsecutiveAccountsBillingEdit.xhtml"
		             propagation="none"
		             rendered="#{authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'addconsecutiveAccountsBilling')}">
		                 <f:param name="businessEntityId"
		                         value="#{businessEntityHome.instance.id}"/>
		                 <f:param name="consecutiveAccountsBillingFrom" value="BusinessEntity"/>
		            </s:button>
		        </div>
		        </f:subview>
		    </rich:tab>
		
		
		    <rich:tab id="consecutiveCreditNotesesTab" label="#{messages.Consecutive_credit_noteses}" rendered="#{businessEntityHome.instance.isBiller == true and authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'consecutiveCreditNotesesTab')}" >
		        <h:form styleClass="association" id="consecutiveCreditNotesesChildren">
		
		            <h:outputText value="#{messages.There_are_no_consecutiveCreditNoteses_associated_with_this_businessEntity}"
		                       rendered="#{empty businessEntityHome.consecutiveCreditNoteses}"/>
		
		            <rich:dataTable value="#{businessEntityHome.consecutiveCreditNoteses}"
		                           var="_consecutiveCreditNotes"
		                      rendered="#{not empty businessEntityHome.consecutiveCreditNoteses}"
		                    rowClasses="rvgRowOne,rvgRowTwo"
		                            id="consecutiveCreditNotesesTable">
		                <rich:column sortBy="#{_consecutiveCreditNotes.id}">
		                    <f:facet name="header">Id</f:facet>
		                    <h:outputText value="#{_consecutiveCreditNotes.id}"/>
		                </rich:column>
		                <rich:column sortBy="#{_consecutiveCreditNotes.prefix}">
		                    <f:facet name="header">#{messages.Prefix}</f:facet>
		                    <h:outputText value="#{_consecutiveCreditNotes.prefix}"/>
		                </rich:column>
		                <rich:column sortBy="#{_consecutiveCreditNotes.suffix}">
		                    <f:facet name="header">#{messages.Suffix}</f:facet>
		                    <h:outputText value="#{_consecutiveCreditNotes.suffix}"/>
		                </rich:column>
		                <rich:column sortBy="#{_consecutiveCreditNotes.siigoCode}">
		                    <f:facet name="header">#{messages.SIIGO_code}</f:facet>
		                    <h:outputText value="#{_consecutiveCreditNotes.siigoCode}"/>
		                </rich:column>
		                
		                <rich:column sortBy="#{_consecutiveCreditNotes.min}">
		                    <f:facet name="header">#{messages.current_position_of_consecutive}</f:facet>
		                    <h:outputText value="#{_consecutiveCreditNotes.min}"/>
		                </rich:column>
		            </rich:dataTable>
		
		        </h:form>
		
		        <f:subview rendered="#{businessEntityHome.managed}" id="consecutiveCreditNoteses">
		        <div class="actionButtons">
		            <s:button id="addconsecutiveCreditNotes"
		                   value="#{messages.Add_consecutiveCreditNotes}"
		                    view="/ConsecutiveCreditNotesEdit.xhtml"
		             propagation="none"
		             rendered="#{authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'addconsecutiveCreditNotes')}">
		                 <f:param name="businessEntityId"
		                         value="#{businessEntityHome.instance.id}"/>
		                 <f:param name="consecutiveCreditNotesFrom" value="BusinessEntity"/>
		            </s:button>
		        </div>
		        </f:subview>
		    </rich:tab>
		    
		    <rich:tab  id="consecutiveCollectionAccountsTab"  label="#{messages.Consecutive_collection_accounts}"  rendered="#{businessEntityHome.instance.isBiller == true and authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'consecutiveCollectionAccountsTab')}">
        <h:form styleClass="association" id="consecutiveCollectionAccountsChildren">

            <h:outputText value="#{messages.There_are_no_consecutiveCollectionAccounts_associated_with_this_businessEntity}"
                       rendered="#{empty businessEntityHome.consecutiveCollectionAccounts}"/>

            <rich:dataTable value="#{businessEntityHome.consecutiveCollectionAccounts}"
                           var="_consecutiveCollectionAccount"
                      rendered="#{not empty businessEntityHome.consecutiveCollectionAccounts}"
                    rowClasses="rvgRowOne,rvgRowTwo"
                            id="consecutiveCollectionAccountsTable">
                <rich:column sortBy="#{_consecutiveCollectionAccount.id}">
                    <f:facet name="header">Id</f:facet>
                    <h:outputText value="#{_consecutiveCollectionAccount.id}"/>
                </rich:column>
                <rich:column sortBy="#{_consecutiveCollectionAccount.suffix}">
                    <f:facet name="header">#{messages.Suffix}</f:facet>
                    <h:outputText value="#{_consecutiveCollectionAccount.suffix}"/>
                </rich:column>
                <rich:column sortBy="#{_consecutiveCollectionAccount.prefix}">
                    <f:facet name="header">#{messages.Prefix}</f:facet>
                    <h:outputText value="#{_consecutiveCollectionAccount.prefix}"/>
                </rich:column>
                <rich:column sortBy="#{_consecutiveCollectionAccount.siigoCode}">
                    <f:facet name="header">#{messages.SIIGO_code}</f:facet>
                    <h:outputText value="#{_consecutiveCollectionAccount.siigoCode}"/>
                </rich:column>
                <rich:column sortBy="#{_consecutiveCollectionAccount.min}">
                    <f:facet name="header">#{messages.current_position_of_consecutive}</f:facet>
                    <h:outputText value="#{_consecutiveCollectionAccount.min}"/>
                </rich:column>
            </rich:dataTable>

        </h:form>

        <f:subview rendered="#{businessEntityHome.managed}" id="consecutiveCollectionAccounts">
        <div class="actionButtons">
            <s:button id="addconsecutiveCollectionAccount"
                   value="#{messages.Add_consecutiveCollectionAccount}"
                    view="/ConsecutiveCollectionAccountEdit.xhtml"
             propagation="none"
             rendered="#{authenticator.validateShowFunction('BusinessEntityEdit.xhtml', 'addconsecutiveCollectionAccount')}">
             
                 <f:param name="businessEntityId"
                         value="#{businessEntityHome.instance.id}"/>
                 <f:param name="consecutiveCollectionAccountFrom" value="BusinessEntity"/>
            </s:button>
        </div>
        </f:subview>
    </rich:tab>
		   	    
		</rich:tabPanel>
		</a4j:outputPanel>
	</ui:define>
</ui:composition>
